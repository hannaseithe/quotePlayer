<div mat-dialog-content>
    <mat-table #table [dataSource]="paginatedDatasource" class="mat-elevation-z8">

        <ng-container matColumnDef="select">
            <th mat-header-cell *matHeaderCellDef>
                <mat-checkbox (change)="$event ? masterToggle() : null" [checked]="selection.hasValue() && isAllSelected()" [indeterminate]="selection.hasValue() && !isAllSelected()">
                </mat-checkbox>
            </th>
            <td mat-cell *matCellDef="let row">
                <mat-checkbox (click)="$event.stopPropagation()" (change)="$event ? selection.toggle(row) : null" [checked]="selection.isSelected(row)">
                </mat-checkbox>
            </td>
        </ng-container>

        <ng-container matColumnDef="quote">
            <mat-header-cell *matHeaderCellDef>
                <mat-form-field>
                    <input matInput (keyup)="applyFilter('quote', $event.target.value)" placeholder="Filter Quotes">
                </mat-form-field>

            </mat-header-cell>
            <mat-cell *matCellDef="let element" [matTooltip]="element.quote" matTooltipPosition="right" matTooltipShowDelay="1000">
                <div>{{element.quote}}</div>
            </mat-cell>
            <mat-footer-cell *matFooterCellDef>
                <button mat-button [mat-dialog-close]="selection.selected">Add Selected Quote(s)</button>
            </mat-footer-cell>
        </ng-container>

        <ng-container matColumnDef="author">
            <mat-header-cell *matHeaderCellDef>
                <mat-form-field>
                    <input matInput (keyup)="applyFilter('author', $event.target.value)" placeholder="Filter Authors">
                </mat-form-field>
            </mat-header-cell>
            <mat-cell *matCellDef="let element"> {{element.author}} </mat-cell>
        </ng-container>

        <ng-container matColumnDef="source">
            <mat-header-cell *matHeaderCellDef>
                <mat-form-field>
                    <input matInput (keyup)="applyFilter('source', $event.target.value)" placeholder="Filter Sources">
                </mat-form-field>
            </mat-header-cell>
            <mat-cell *matCellDef="let element"> {{element.source}} </mat-cell>
        </ng-container>

        <ng-container matColumnDef="tags">
            <mat-header-cell *matHeaderCellDef>
                <mat-form-field>
                    <input matInput (keyup)="applyFilter('tags', $event.target.value)" placeholder="Filter Tags">
                </mat-form-field>
            </mat-header-cell>
            <mat-cell *matCellDef="let element">
                <mat-chip-list *ngFor="let tag of element.tags">
                    <mat-chip color="accent">{{tag}}</mat-chip>
                </mat-chip-list>
            </mat-cell>
        </ng-container>


        <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
        <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
        <mat-footer-row *matFooterRowDef="['quote']; sticky: true">
        </mat-footer-row>
    </mat-table>
    <mat-paginator [pageSizeOptions]="[5, 10, 20]" [length]="(dataSource | datasourceFilter:filterArgs).length" showFirstLastButtons (page)="handlePageEvent($event)"></mat-paginator>
    <mat-toolbar color="accent" *ngIf="dataSource.length < 1"> There are no Quotes saved yet. Please add Quote(s) first.</mat-toolbar>


</div>